require 'watir'

browser = Watir::Browser.new

site_to_crawl = 'https://www.oyorooms.com'
browser.goto site_to_crawl

browser.text_field(id: 'autoComplete__home').set 'Pune'
browser.div(class: 'geoSuggestionsList__container').divs.first.click
browser.button(class: 'searchButton--home').click

sleep 2

hotels = Array.new
browser.divs(class: 'hotelCardListing__descriptionWrapper').each do |hotel|
  hotelHash = Hash.new
  if !hotel.h3.text.nil?
    hotelHash['name'] = hotel.h3.text
    hotelHash['price'] = hotel.span(class: 'listingPrice__finalPrice').text
  end
  if !hotelHash.empty?
    hotels << hotelHash
  end
end

puts "Hotels List: "
puts hotels

browser.close
